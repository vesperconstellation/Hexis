FROM python:3.12-slim

WORKDIR /app

ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1

COPY pyproject.toml /app/
COPY README.md /app/README.md
COPY apps /app/apps
COPY core /app/core
COPY services /app/services

RUN pip install --no-cache-dir ".[anthropic]"

CMD ["hexis-worker"]
